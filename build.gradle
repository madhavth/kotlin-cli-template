plugins {
    id 'application'
    id 'org.jetbrains.kotlin.jvm' version '1.9.22'
    id "io.ktor.plugin" version "2.3.4"
    id 'org.jetbrains.kotlin.plugin.serialization' version '1.9.22'
}

group = 'org.example'
version = '1.0-SNAPSHOT'

application {
    mainClassName = 'org.example.MainKt'
}

repositories {
    mavenCentral()
}


dependencies {
    testImplementation 'org.jetbrains.kotlin:kotlin-test'
    implementation("io.ktor:ktor-client-okhttp-jvm:2.3.9")
    ext.ktor_version = "2.3.9"

    testImplementation("org.jetbrains.kotlin:kotlin-test")
    implementation("com.github.ajalt.clikt:clikt:4.2.2")
    implementation("eu.jrie.jetbrains:kotlin-shell-core:0.2.1")
    implementation("org.slf4j:slf4j-nop:1.7.26")

//    implementation("io.ktor:ktor-server-netty:$ktor_version")
//    implementation("io.ktor:ktor-server-netty")

    implementation("io.ktor:ktor-client-core:$ktor_version")
    implementation("io.ktor:ktor-client-cio:$ktor_version")
    implementation("io.ktor:ktor-client-content-negotiation:$ktor_version")
    implementation("io.ktor:ktor-serialization-kotlinx-json:$ktor_version")
    implementation("io.ktor:ktor-client-gson:$ktor_version")
    // ktor gson
    implementation("io.ktor:ktor-client-serialization:$ktor_version")
    implementation "org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.3"

    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
}

test {
    useJUnitPlatform()
}
kotlin {
    jvmToolchain(17)
}

//tasks {
//    // Configure logging level
//    logging.captureStandardOutput(LogLevel.INFO)
//    logging.captureStandardError(LogLevel.ERROR)
//}